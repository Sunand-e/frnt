{"code":"import { useEffect, useRef, useState } from 'react';\r\nimport { getBoundingClientRect } from '@dnd-kit/core';\r\nimport { useIsomorphicLayoutEffect } from '@dnd-kit/utilities';\r\n/*\r\n * When the index of an item changes while sorting,\r\n * we need to temporarily disable the transforms\r\n */\r\nexport function useDerivedTransform({ disabled, index, node, rect }) {\r\n    const [derivedTransform, setDerivedtransform] = useState(null);\r\n    const previousIndex = useRef(index);\r\n    useIsomorphicLayoutEffect(() => {\r\n        if (!disabled && index !== previousIndex.current && node.current) {\r\n            const initial = rect.current;\r\n            if (initial) {\r\n                const current = getBoundingClientRect(node.current);\r\n                const delta = {\r\n                    x: initial.offsetLeft - current.offsetLeft,\r\n                    y: initial.offsetTop - current.offsetTop,\r\n                    scaleX: initial.width / current.width,\r\n                    scaleY: initial.height / current.height,\r\n                };\r\n                if (delta.x || delta.y) {\r\n                    setDerivedtransform(delta);\r\n                }\r\n            }\r\n        }\r\n        if (index !== previousIndex.current) {\r\n            previousIndex.current = index;\r\n        }\r\n    }, [disabled, index, node, rect]);\r\n    useEffect(() => {\r\n        if (derivedTransform) {\r\n            requestAnimationFrame(() => {\r\n                setDerivedtransform(null);\r\n            });\r\n        }\r\n    }, [derivedTransform]);\r\n    return derivedTransform;\r\n}\r\n//# sourceMappingURL=useDerivedTransform.js.map","references":["D:/Developer/Work/tutorials/dnd-kit/node_modules/@types/react/index.d.ts","D:/Developer/Work/tutorials/dnd-kit/packages/core/dist/index.d.ts","D:/Developer/Work/tutorials/dnd-kit/packages/utilities/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"useDerivedTransform.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/hooks/utilities/useDerivedTransform.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAC,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAC,MAAM,OAAO,CAAC;AAClD,OAAO,EAAC,qBAAqB,EAAa,MAAM,eAAe,CAAC;AAChE,OAAO,EAAY,yBAAyB,EAAC,MAAM,oBAAoB,CAAC;AASxE;;;GAGG;AACH,MAAM,UAAU,mBAAmB,CAAC,EAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAY;IAC1E,MAAM,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,GAAG,QAAQ,CACtD,IAAI,CACL,CAAC;IACF,MAAM,aAAa,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;IAEpC,yBAAyB,CAAC,GAAG,EAAE;QAC7B,IAAI,CAAC,QAAQ,IAAI,KAAK,KAAK,aAAa,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE;YAChE,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAE7B,IAAI,OAAO,EAAE;gBACX,MAAM,OAAO,GAAG,qBAAqB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAEpD,MAAM,KAAK,GAAG;oBACZ,CAAC,EAAE,OAAO,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU;oBAC1C,CAAC,EAAE,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS;oBACxC,MAAM,EAAE,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK;oBACrC,MAAM,EAAE,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM;iBACxC,CAAC;gBAEF,IAAI,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,EAAE;oBACtB,mBAAmB,CAAC,KAAK,CAAC,CAAC;iBAC5B;aACF;SACF;QAED,IAAI,KAAK,KAAK,aAAa,CAAC,OAAO,EAAE;YACnC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;SAC/B;IACH,CAAC,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;IAElC,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,gBAAgB,EAAE;YACpB,qBAAqB,CAAC,GAAG,EAAE;gBACzB,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC;SACJ;IACH,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC;IAEvB,OAAO,gBAAgB,CAAC;AAC1B,CAAC\"}"}
