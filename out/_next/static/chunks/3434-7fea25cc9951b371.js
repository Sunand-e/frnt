(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3434],{78773:function(e,t,n){"use strict";var o=n(20516),i=n.n(o),a=n(35944),r=function(e){var t=e.onClick,n=e.disabled,o=e.type,r=e.displayType,c=e.size,l=e.className,d=e.children,s="bg-main group-hover:bg-opacity-80 transition-colors duration-1000";return(void 0===r?"normal":r)==="alert"&&(s="bg-red-800 group-hover:bg-red-700 transition-colors duration-1000"),(0,a.BX)("button",{type:void 0===o?"button":o,disabled:void 0!==n&&n,className:"\n        ".concat(l,"\n        ").concat(i().button,"\n        ").concat(i().button_bestia,"\n        ").concat("sm"===c?"px-1":"px-8","\n\n        min-w-16 py-2 \n        whitespace-nowrap nowrap\n        border border-transparent rounded-md\n        text-sm\n        group\n        disabled bg-main text-white\n        focus:bg-opacity-50 focus:outline-none \n        active:bg-opacity-50 \n      "),onClick:t,children:[(0,a.tZ)("div",{className:"".concat(i().button__bg," ").concat(s)}),(0,a.tZ)("span",{className:i().button__span,children:d})]})};t.Z=r},94619:function(e,t,n){"use strict";var o=n(59499),i=n(67294),a=n(32512),r=n(35944);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d={borderColor:"#2196f3"},s={borderColor:"#00e676"},u={borderColor:"#ff1744"},p=function(e){var t=e.accept,n=e.dropZoneContent,o=e.onClick,c=void 0===o?null:o,p=e.onDrop,m=void 0===p?function(e,t,n){return null}:p,f=e.multiple,g=function(e,t,n){m(e,t,n)},v=(0,a.uI)({accept:t,multiple:void 0===f||f,onDrop:g}),h=(v.acceptedFiles,v.getRootProps),b=v.getInputProps,Z=v.isDragActive,y=v.isDragAccept,w=v.isDragReject,x=(0,i.useMemo)(function(){return l(l(l({},Z?d:{}),y?s:{}),w?u:{})},[Z,w,y]);return(0,r.tZ)("div",{className:"container mb-4",children:(0,r.BX)("div",l(l({},h(l({style:x,className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},c&&{onClick:c}))),{},{children:[(0,r.tZ)("input",l({},b())),(0,r.tZ)("div",{className:"space-y-1 text-center",children:n})]}))})};t.Z=p},49471:function(e,t,n){"use strict";var o=n(94619),i=n(69291),a=n(67294),r=n(35944),c=function(e){var t=e.accept,n=e.dropZoneContent,c=e.endpoint,l=void 0===c?null:c,d=e.refetchQuery,s=e.fileParameterName,u=e.onDrop,p=void 0===u?function(e){return null}:u,m=e.onAllUploadsComplete,f=void 0===m?function(e){return null}:m,g=e.multiple,v=e.additionalParams,h=(0,i.Z)({refetchQuery:void 0===d?null:d,additionalParams:void 0===v?{}:v}).uploadFileAndNotify,b=(0,a.useCallback)(function(e){Promise.all(e.map(function(e){return h(e,s,l)})).then(function(e){f(e)}),p(e)},[l]);return(0,r.tZ)(o.Z,{accept:t,dropZoneContent:n,onDrop:b,multiple:void 0===g||g})};t.Z=c},9289:function(e,t,n){"use strict";var o=n(35944),i=function(e){var t=e.icon,n=e.fileHintText,i=e.openMediaLibrary,a=void 0===i?null:i,r=function(e){e.stopPropagation(),a()};return(0,o.BX)(o.HY,{children:[void 0===t?null:t,(0,o.BX)("div",{className:"flex w-full justify-center text-sm text-gray-600",children:[(0,o.tZ)("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-main focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-main",children:(0,o.tZ)("span",{className:"hover:opacity-70",children:"Upload a file"})}),a&&(0,o.BX)(o.HY,{children:[(0,o.tZ)("span",{children:", "}),(0,o.tZ)("button",{onClick:r,className:"font-medium hover:opacity-70 pl-1",children:"choose from media library"})]}),(0,o.tZ)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,o.tZ)("p",{className:"text-xs text-gray-500",children:n})]})};t.Z=i},76322:function(e,t,n){"use strict";n.d(t,{o:function(){return l}});var o,i,a=n(71383),r=n(68777),c=(0,r.F4)(o||(o=(0,a.Z)(["\n  50% {color: transparent;}\n"]))),l=r.ZP.span(i||(i=(0,a.Z)(["\n  animation: 1s "," infinite;\n  &:nth-child(1) {\n    animation-delay: 0ms;\n  }\n  &:nth-child(2) {\n    animation-delay: 250ms;\n  }\n  &:nth-child(3) {\n    animation-delay: 500ms;\n  }\n"])),c)},27675:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var o=n(71641),i=n(50479),a=n(77447),r=n(32274),c=n(32284),l=n(48453),d=n(41664),s=n.n(d),u=n(17674),p=n(67294),m=n(23296),f=n(35944),g=function(e){var t=e.image,n=(0,p.useRef)(null),o=(0,m.X)(),i=(0,u.Z)(o,2),a=i[0],r=i[1],c=(0,p.useState)(!1),l=c[0],d=c[1];return(0,p.useEffect)(function(){r&&!l&&(n.current.src=n.current.getAttribute("data-src"),console.log(n.current),d(!0))},[r]),(0,p.useEffect)(function(){l&&(null==t?void 0:t.id)&&(n.current.src="/uploaded_images/".concat(null==t?void 0:t.id,"?w=300"))},[t,l]),(0,f.tZ)("div",{ref:a,style:{backgroundColor:"#dddddd"},children:(0,f.tZ)("img",{ref:n,src:"/images/placeholder-image.png","data-src":"/uploaded_images/".concat(null==t?void 0:t.id,"?w=300"),className:"object-cover object-center w-full h-full pointer-events-none group-hover:opacity-75",alt:""})})},v=function(e){var t,n=e.item,o=e.onItemSelect,i=void 0===o?function(e){return null}:o;switch(n.mediaType){case"video":t=a.d;break;case"audio":t=r.M;break;case"document":t=c.B;break;case"image":t=l.E}return(0,f.BX)(f.HY,{children:[(0,f.BX)("div",{onClick:function(){return i(n)},className:"group block w-full aspect-w-10 aspect-h-7 rounded-lg bg-white focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-100 focus-within:ring-main overflow-hidden shadow",children:["image"===n.mediaType?(0,f.tZ)(g,{image:n}):(0,f.tZ)(s(),{href:n.location,className:"aspect-w-10 aspect-h-7",children:(0,f.tZ)(t,{className:"text-main p-8  group-hover:opacity-75"})}),(0,f.tZ)("button",{type:"button",className:"absolute inset-0 focus:outline-none",children:(0,f.BX)("span",{className:"sr-only",children:["View details for ",n.fileName]})})]}),(0,f.tZ)("p",{className:"mt-2 block text-sm font-medium text-gray-900 truncate pointer-events-none",children:n.fileName})]})},h=n(58639),b=function(e){var t=e.onItemSelect,n=e.typeFilter,a=(0,o.a)(h.N1,{variables:{where:{media_type:void 0===n?["image","document","video","audio"]:n}}}),r=a.loading,c=a.error,l=a.data,d=(l=void 0===l?{}:l).mediaItems;return r?(0,f.tZ)(f.HY,{children:"Loading..."}):c?(0,f.BX)(f.HY,{children:["`Error! $",c,"`"]}):(0,f.BX)(f.HY,{children:[(0,f.tZ)(i.Z,{}),(0,f.tZ)("ul",{role:"list",className:"grid grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-3 sm:gap-x-6 md:grid-cols-4 lg:grid-cols-6 xl:gap-x-8",children:d.map(function(e,n){return(0,f.tZ)("li",{className:"relative",children:(0,f.tZ)(v,{onItemSelect:t,item:e})},e.id)})})]})}},50479:function(e,t,n){"use strict";var o=n(58639),i=n(9289),a=n(49471),r=n(35944),c=function(){var e=o.N1,t=(0,r.tZ)(i.Z,{fileHintText:"PNG, JPG, GIF, PDF, DOC, XLS, PPT, MP3, WAV up to 10MB"});return(0,r.tZ)(a.Z,{refetchQuery:e,fileParameterName:"file",additionalParams:{alt_text:"Test alt text"},endpoint:"/uploads/upload_media",accept:["image/jpeg","image/pjpeg","image/jpeg","image/pjpeg","image/png","image/gif","image/x-icon","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/mspowerpoint","application/powerpoint","application/vnd.ms-powerpoint","application/x-mspowerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/mspowerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.oasis.opendocument.text","application/excel","application/vnd.ms-excel","application/x-excel","application/x-msexcel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/octet-stream","application/zip","audio/mpeg3","audio/x-mpeg-3","video/mpeg","video/x-mpeg","audio/m4a","audio/ogg,","audio/wav","audio/x-wav","video/mp4","video/x-m4v","video/quicktime","video/x-ms-asf","video/x-ms-wmv","application/x-troff-msvideo","video/avi","video/msvideo","video/x-msvideo","audio/mpeg","video/mpeg","video/ogg","video/3gpp","audio/3gpp","video/3gpp2","audio/3gpp2"],dropZoneContent:t})};t.Z=c},58639:function(e,t,n){"use strict";n.d(t,{N1:function(){return d}});var o,i,a,r=n(71383),c=n(17283),l=(0,c.Ps)(o||(o=(0,r.Z)(["\n  fragment MediaItemFragment on MediaItem {\n    id\n    mediaType\n    fileSize\n    fileName\n    location\n    properties\n    altText\n    createdAt\n    deletedAt\n  }\n"]))),d=(0,c.Ps)(i||(i=(0,r.Z)(["\n  query GetMediaItems(\n    $where: JSON,\n  ) {  \n    mediaItems(where: $where) {\n      ...MediaItemFragment\n    }\n  }\n  ","\n"])),l);(0,c.Ps)(a||(a=(0,r.Z)(["\n  query GetMediaItem(\n    $id: String,\n  ) {  \n    mediaItem(id: $id) {\n      ...MediaItemFragment\n    }\n  }\n  ","\n"])),l)},40350:function(e,t,n){"use strict";var o=n(67294),i=n(94225);t.Z=function(e){(0,o.useEffect)(function(){(0,i.jL)(e)},[e])}},69291:function(e,t,n){"use strict";var o=n(50029),i=n(87794),a=n.n(i),r=n(67294),c=n(50196),l=n(36094),d=n(55678),s=n(57632),u=n(76322),p=n(35944),m=function(e){var t,n=e.additionalParams,i=void 0===n?{}:n,m=e.method,f=void 0===m?"POST":m,g=e.refetchQuery,v=void 0===g?null:g,h=e.onComplete,b=void 0===h?null:h,Z=localStorage.getItem("token"),y=(0,r.useState)(!1);return y[0],y[1],{uploadFileAndNotify:(0,r.useCallback)((t=(0,o.Z)(a().mark(function e(t,n,o){var r,m,g;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(g in r=(0,s.Z)(),m=new FormData,i)m.append(g,i[g]);return m.append(n,t,t.name),e.next=6,c.ZP.request({method:f,url:o,headers:{Authorization:"Bearer ".concat(Z)},data:m,onUploadProgress:function(e){var n=e.loaded/e.total;if(console.log("progress..."+n),1===n);else{var o=(0,p.BX)(p.HY,{children:["Uploading",(0,p.BX)("span",{className:"font-bold",children:[" ",t.name,(0,p.tZ)(u.o,{children:"."}),(0,p.tZ)(u.o,{children:"."}),(0,p.tZ)(u.o,{children:"."})]})]});d.Am.isActive(r)?d.Am.update(r,{progress:n}):(0,d.Am)(o,{toastId:r,progress:n})}}}).then(function(e){var n=(0,p.BX)(p.HY,{children:["Uploaded ",(0,p.tZ)("span",{className:"font-bold",children:t.name}),"."]});return d.Am.isActive(r)&&d.Am.update(r,{progress:1,hideProgressBar:!1}),setTimeout(function(){(0,d.Am)(n,{toastId:r+"done",hideProgressBar:!0,autoClose:2500})},1e3),b&&b(e),l.L.refetchQueries({include:[v]}),e.data});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)})),function(e,n,o){return t.apply(this,arguments)}),[f])}};t.Z=m},20516:function(e){e.exports={button:"Button_button__RRrLU",button_bestia:"Button_button_bestia__QRXEX",button__bg:"Button_button__bg__EuarU",button__span:"Button_button__span__Tcje3"}}}]);