(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6356],{77447:function(t,e,r){"use strict";r.d(e,{d:function(){return a}});var n=r(87462),o=r(67294),i=r(54142),a=o.forwardRef(function(t,e){return o.createElement(i.r,(0,n.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},t,{ref:e}),o.createElement("path",{d:"M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0v6h8V1H4zm8 8H4v6h8V9zM1 1v2h2V1H1zm2 3H1v2h2V4zM1 7v2h2V7H1zm2 3H1v2h2v-2zm-2 3v2h2v-2H1zM15 1h-2v2h2V1zm-2 3v2h2V4h-2zm2 3h-2v2h2V7zm-2 3v2h2v-2h-2zm2 3h-2v2h2v-2z"}))});a.displayName="Film"},39316:function(t,e,r){"use strict";r.d(e,{x:function(){return a}});var n=r(87462),o=r(67294),i=r(54142),a=o.forwardRef(function(t,e){return o.createElement(i.r,(0,n.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},t,{ref:e}),o.createElement("path",{d:"M21 11H6.414l5.293-5.293-1.414-1.414L2.586 12l7.707 7.707 1.414-1.414L6.414 13H21z"}))});a.displayName="ArrowBack"},48453:function(t,e,r){"use strict";r.d(e,{E:function(){return a}});var n=r(87462),o=r(67294),i=r(54142),a=o.forwardRef(function(t,e){return o.createElement(i.r,(0,n.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 48 48"},t,{ref:e}),o.createElement("path",{d:"M31 14.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM6 10.75A4.75 4.75 0 0 1 10.75 6h26.5A4.75 4.75 0 0 1 42 10.75v26.5c0 .86-.23 1.66-.63 2.36L26.63 25.08a3.75 3.75 0 0 0-5.26 0L6.63 39.62c-.4-.7-.63-1.5-.63-2.36v-26.5zM26 17a5 5 0 1 0 10 0 5 5 0 0 0-10 0zM8.4 41.38c.69.4 1.5.62 2.35.62h26.5c.86 0 1.66-.23 2.36-.63l-14.73-14.5a1.25 1.25 0 0 0-1.76 0L8.4 41.37z"}))});a.displayName="Image"},72149:function(t,e,r){"use strict";r.d(e,{r:function(){return a}});var n=r(87462),o=r(67294),i=r(54142),a=o.forwardRef(function(t,e){return o.createElement(i.r,(0,n.Z)({iconAttrs:{fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},t,{ref:e}),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m19 7-.867 12.142A2 2 0 0 1 16.138 21H7.862a2 2 0 0 1-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v3M4 7h16"}))});a.displayName="Trash"},11173:function(t,e,r){"use strict";var n=r(93354),o=r(72149),i=r(35944),a=function(t){var e=t.placeholder,r=t.src,a=t.buttonText,c=t.onClick,l=t.onLoad,u=t.onClear,s=t.className,d=t.isButtonAlwaysVisible;return(0,i.BX)("div",{className:(0,n.Z)("relative",void 0===s?"":s),children:[(0,i.tZ)("img",{onLoad:l,className:"block max-w-full px-1 w-full borderRadius[3px] object-cover boxShadow[0 0 0 1px rgb(59,130,249)]",src:r||e||"/images/placeholder-image.png"}),(0,i.tZ)("div",{className:"absolute w-full h-full top-0 left-0 flex items-center justify-center ".concat(!r||d?"":"opacity-0 hover:opacity-100"),children:(0,i.tZ)("a",{className:"cursor-pointer bg-main-secondary bg-opacity-60 text-white py-1 px-4 rounded hover:bg-opacity-90",onClick:c,children:null!=a?a:"Choose image"})}),u&&r&&(0,i.tZ)("div",{className:"absolute p-2 w-12 h-12 flex items-center justify-center top-0 right-0 'opacity-60 hover:opacity-100'}",children:(0,i.tZ)(o.r,{className:"w-6 cursor-pointer hover:w-14 text-red-800",onClick:u})})]})};e.Z=a},28024:function(t,e,r){"use strict";var n=r(67294),o=r(95815),i=r(27675),a=r(11173),c=r(35944),l=function(t){var e=t.placeholder,r=t.src,l=t.buttonText,u=t.isButtonAlwaysVisible,s=t.className,d=t.onSelect,f=(0,n.useContext)(o.t).handleModal,v=function(){f({title:"Choose image",content:(0,c.tZ)(i.Z,{onItemSelect:d,typeFilter:["image"]}),size:"lg"})};return(0,c.tZ)(a.Z,{placeholder:e,src:r,buttonText:l,isButtonAlwaysVisible:u,onClick:v,onClear:function(){return d(null)},className:void 0===s?"":s})};e.Z=l},99083:function(t,e,r){"use strict";var n=r(67294),o=r(87536),i=r(95815),a=r(28024),c=r(35944),l=function(t){var e=t.placeholder,r=t.buttonText,l=t.control,u=t.name,s=t.origImage,d=t.onSelect,f=t.className,v=t.isButtonAlwaysVisible,p=(0,o.bc)({control:l,name:u}).field,m=(0,n.useContext)(i.t).closeModal,g=(0,n.useState)(s),h=g[0],b=g[1],y=function(t){p.onChange((null==t?void 0:t.id)||null),b(t),d?d(t):m()};return(0,c.tZ)(c.HY,{children:(0,c.tZ)(a.Z,{className:void 0===f?"":f,placeholder:e,src:null==h?void 0:h.location,buttonText:r,onSelect:y,isButtonAlwaysVisible:void 0===v||v})})};e.Z=l},76267:function(t,e,r){"use strict";var n=r(59499),o=r(78773),i=r(87536),a=r(97088),c=r(67294),l=r(99083),u=r(95815),s=r(35944);function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var v=function t(e){var r=e.tag,n=void 0===r?null:r,d=e.onSubmit,v=e.isModal,p=f({tagType:"category"},n),m=(0,c.useContext)(u.t).handleModal,g=(0,i.cI)({defaultValues:p}),h=g.register,b=g.handleSubmit,y=g.control,w=g.setFocus,Z=g.getValues,O=g.formState.errors;(0,c.useEffect)(function(){w("label")},[]);var j=function(e){m({title:"Course settings",size:"lg",content:(0,s.tZ)(t,{tag:f(f({},Z()),{},{image:e}),isModal:!0,onSubmit:d})})};return(0,s.BX)("form",{className:"h-full w-full max-w-sm flex flex-col space-y-4",onSubmit:b(d),children:[(0,s.tZ)(a.Z,{label:"Category Name",placeholder:"Untitled category",inputAttrs:h("label",{required:"Category name is required"})}),O.label&&(0,s.tZ)("small",{className:"text-danger text-red-500",children:O.label.message}),(0,s.tZ)(l.Z,{label:"Category image",origImage:null==n?void 0:n.image,placeholder:"https://picsum.photos/640/360",buttonText:"Choose category image",control:y,name:"mediaItemId",onSelect:void 0!==v&&v?j:null}),(0,s.tZ)(o.Z,{type:"submit",children:n?"Save changes":"Create category"})]})};e.Z=v},24545:function(t,e,r){"use strict";var n=r(11163),o=r(67294),i=r(78773),a=r(94225),c=r(35944),l=function(t){var e=(0,n.useRouter)();(0,o.useEffect)(function(){(0,a.ac)((0,c.tZ)("div",{className:"space-x-2 flex items-center",children:t.map(function(t,r){return(0,c.tZ)(i.Z,{onClick:function(){"function"==typeof t[1]?t[1]():e.push(t[1])},children:t[0]},r)})}))},[])};e.Z=l},2576:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return j}});var n,o=r(40350),i=r(24249),a=r(24545),c=r(71641),l=r(54232),u=function(t){var e=(0,c.a)(l.Vs,{variables:{id:t}}),r=e.loading,n=e.error,o=e.data;return{tag:(o=void 0===o?{}:o).tag,loading:r,error:n}},s=r(76267),d=r(59499),f=r(17674),v=r(71383),p=(0,r(17283).Ps)(n||(n=(0,v.Z)(["\n  mutation UpdateTag(\n    $id: ID!\n    $label: String,\n    $tagType: String,\n    $mediaItemId: ID,\n  ) {\n    updateTag(\n      input: {\n        id: $id,\n        label: $label,\n        tagType: $tagType,\n        mediaItemId: $mediaItemId,\n\n      }\n    ) {\n      tag {\n      ...TagFragment\n      }\n    }\n  }\n  ","\n"])),l.$v),m=r(50319);function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach(function(e){(0,d.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=(0,c.a)(l.Vs,{variables:{id:t}}),r=e.loading,n=e.error,o=e.data,i=(o=void 0===o?{}:o).tag,a=(0,m.D)(p),u=(0,f.Z)(a,2),s=u[0];u[1];var d=function(e){console.log("values"),console.log(e);var r=h({},e);s({variables:h({id:t},r),optimisticResponse:{updateTag:{__typename:"UpdateTagPayload",tag:h(h({},i),r)}}}).catch(function(t){})};return{tag:i,loading:r,error:n,updateTag:d}},y=r(39316),w=r(35944),Z=function(){return(0,w.BX)(w.HY,{children:[(0,w.tZ)("span",{className:"hidden lg:block",children:"Back to categories list"}),(0,w.tZ)("span",{className:"block lg:hidden",children:(0,w.tZ)(y.x,{width:"20"})})]})},O=function(){var t=(0,i.t)(),e=u(t.query.id),r=e.tag;e.loading,e.error;var n=b(t.query.id).updateTag,c=function(e){n(e),t.push("/admin/tags")};return(0,o.Z)({title:"Edit Category".concat((null==r?void 0:r.label)&&": ".concat(r.label))}),(0,a.Z)([[(0,w.tZ)(Z,{}),"/admin/tags"]]),(0,w.tZ)(w.HY,{children:r&&(0,w.tZ)(w.HY,{children:(0,w.tZ)(s.Z,{onSubmit:c,tag:r})})})};O.navState={topLevel:"categories"};var j=O},24249:function(t,e,r){"use strict";r.d(e,{t:function(){return d}});var n=r(59499),o=r(17674),i=r(83618);r(67294);var a=r(11163);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var s=function(t){var e,r=t.split("?"),n=(0,i.Z)(r).slice(1).join("?"),a={},c=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}}(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(new URLSearchParams(n).entries());try{for(c.s();!(e=c.n()).done;){var l=(0,o.Z)(e.value,2),s=l[0],d=l[1];a[s]=d}}catch(f){c.e(f)}finally{c.f()}return a},d=function(){var t=(0,a.useRouter)();return t.query=l(l({},s(t.asPath)),t.query),t}},80307:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/tags/edit",function(){return r(2576)}])},23296:function(t,e,r){"use strict";r.d(e,{X:function(){return a}});var n=r(67294);let o=()=>{},i={root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,1]};function a(t=()=>{},e=i){let{root:r=null,rootMargin:a,threshold:c}=e,[l,u]=(0,n.useState)(null),[s,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(l){let r=new IntersectionObserver((e,r)=>{for(let{isIntersecting:n}of e)d(n);t(e,r)},e);return r.observe(l),()=>{r.disconnect()}}return o},[l,t,r,a,c,e]);let f=(0,n.useCallback)(t=>{u(t)},[]);return[f,s]}},50319:function(t,e,r){"use strict";r.d(e,{D:function(){return s}});var n=r(70655),o=r(67294),i=r(14012),a=r(82152),c=r(14692),l=r(30990),u=r(66252);function s(t,e){var r=(0,u.x)(null==e?void 0:e.client);(0,c.Vp)(t,c.n_.Mutation);var s=(0,o.useState)({called:!1,loading:!1,client:r}),d=s[0],f=s[1],v=(0,o.useRef)({result:d,mutationId:0,isMounted:!0,client:r,mutation:t,options:e});Object.assign(v.current,{client:r,options:e,mutation:t});var p=(0,o.useCallback)(function(t){void 0===t&&(t={});var e=v.current,r=e.client,o=e.options,c=e.mutation,u=(0,n.pi)((0,n.pi)({},o),{mutation:c});v.current.result.loading||u.ignoreResults||!v.current.isMounted||f(v.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:r});var s=++v.current.mutationId,d=(0,i.J)(u,t);return r.mutate(d).then(function(e){var n,o,i,c=e.data,u=e.errors,p=u&&u.length>0?new l.c({graphQLErrors:u}):void 0;if(s===v.current.mutationId&&!d.ignoreResults){var m={called:!0,loading:!1,data:c,error:p,client:r};v.current.isMounted&&!(0,a.D)(v.current.result,m)&&f(v.current.result=m)}return null===(o=null===(n=v.current.options)||void 0===n?void 0:n.onCompleted)||void 0===o||o.call(n,e.data,d),null===(i=t.onCompleted)||void 0===i||i.call(t,e.data,d),e}).catch(function(e){var n,o,i,c;if(s===v.current.mutationId&&v.current.isMounted){var l={loading:!1,error:e,data:void 0,called:!0,client:r};(0,a.D)(v.current.result,l)||f(v.current.result=l)}if((null===(n=v.current.options)||void 0===n?void 0:n.onError)||d.onError)return null===(i=null===(o=v.current.options)||void 0===o?void 0:o.onError)||void 0===i||i.call(o,e,d),null===(c=t.onError)||void 0===c||c.call(t,e,d),{data:void 0,errors:e};throw e})},[]),m=(0,o.useCallback)(function(){v.current.isMounted&&f({called:!1,loading:!1,client:r})},[]);return(0,o.useEffect)(function(){return v.current.isMounted=!0,function(){v.current.isMounted=!1}},[]),[p,(0,n.pi)({reset:m},d)]}},14666:function(t,e,r){"use strict";function n(t){if(Array.isArray(t))return t}r.d(e,{Z:function(){return n}})},14882:function(t,e,r){"use strict";function n(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(e,{Z:function(){return n}})},17674:function(t,e,r){"use strict";r.d(e,{Z:function(){return a}});var n=r(14666),o=r(2937),i=r(14882);function a(t,e){return(0,n.Z)(t)||function(t,e){var r,n,o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(t);!(a=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(l){c=!0,n=l}finally{try{a||null==o.return||o.return()}finally{if(c)throw n}}return i}}(t,e)||(0,o.Z)(t,e)||(0,i.Z)()}},83618:function(t,e,r){"use strict";r.d(e,{Z:function(){return c}});var n=r(14666),o=r(28811),i=r(2937),a=r(14882);function c(t){return(0,n.Z)(t)||(0,o.Z)(t)||(0,i.Z)(t)||(0,a.Z)()}}},function(t){t.O(0,[6107,3434,9774,2888,179],function(){return t(t.s=80307)}),_N_E=t.O()}]);