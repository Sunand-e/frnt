(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4047],{39316:function(e,n,t){"use strict";t.d(n,{x:function(){return u}});var r=t(87462),o=t(67294),a=t(54142),u=o.forwardRef(function(e,n){return o.createElement(a.r,(0,r.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),o.createElement("path",{d:"M21 11H6.414l5.293-5.293-1.414-1.414L2.586 12l7.707 7.707 1.414-1.414L6.414 13H21z"}))});u.displayName="ArrowBack"},78773:function(e,n,t){"use strict";var r=t(20516),o=t.n(r),a=t(35944),u=function(e){var n=e.onClick,t=e.disabled,r=e.type,u=e.displayType,s=e.size,i=e.className,c=e.children,l="bg-main group-hover:bg-opacity-80 transition-colors duration-1000";return(void 0===u?"normal":u)==="alert"&&(l="bg-red-800 group-hover:bg-red-700 transition-colors duration-1000"),(0,a.BX)("button",{type:void 0===r?"button":r,disabled:void 0!==t&&t,className:"\n        ".concat(i,"\n        ").concat(o().button,"\n        ").concat(o().button_bestia,"\n        ").concat("sm"===s?"px-1":"px-8","\n\n        min-w-16 py-2 \n        whitespace-nowrap nowrap\n        border border-transparent rounded-md\n        text-sm\n        group\n        disabled bg-main text-white\n        focus:bg-opacity-50 focus:outline-none \n        active:bg-opacity-50 \n      "),onClick:n,children:[(0,a.tZ)("div",{className:"".concat(o().button__bg," ").concat(l)}),(0,a.tZ)("span",{className:o().button__span,children:c})]})};n.Z=u},66631:function(e,n,t){"use strict";var r=t(59499),o=t(4730),a=t(87536),u=t(99273),s=t(70990),i=t(26316),c=t(13873),l=t(9310),d=t.n(l);t(95833);var p=t(23239),f=t.n(p),g=t(35944),b=["control","name","label"];function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var v=function(e){var n=e.control,t=e.name,l=e.label,p=(0,o.Z)(e,b),v=(0,a.bc)({control:n,name:t}).field,h=function(e){v.onChange(e)};return(0,g.BX)("div",{children:[l&&(0,g.tZ)("label",{className:"block",children:(0,g.tZ)("span",{className:"text-sm font-medium text-gray-700",children:l})}),(0,g.tZ)(d(),function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({selected:v.value,className:f().DualInput,onChange:h,showHeaderLabels:!0,canFilter:!0,icons:{moveLeft:(0,g.tZ)(u.s,{className:"h-5"}),moveAllLeft:(0,g.tZ)(s.$,{className:"h-5"}),moveRight:(0,g.tZ)(i._,{className:"h-5"}),moveAllRight:(0,g.tZ)(c.B,{className:"h-5"})}},p))]})};n.Z=v},80135:function(e,n,t){"use strict";var r=t(55103),o=t(66631),a=t(35944),u=function(e){var n,t=e.control,u=(0,r.Z)().courses,s=null==u?void 0:null===(n=u.edges)||void 0===n?void 0:n.map(function(e){var n=e.node;return{value:n.id,label:n.title}});return(0,a.tZ)(a.HY,{children:u&&(0,a.tZ)(o.Z,{label:"Enrolled courses",control:t,name:"assignedCourseIds",options:s,lang:{availableHeader:"Available courses",selectedHeader:"Selected courses"}})})};n.Z=u},28867:function(e,n,t){"use strict";var r=t(3130),o=t(66631),a=t(35944),u=function(e){var n,t=e.control,u=(0,r.Z)().users,s=null==u?void 0:null===(n=u.edges)||void 0===n?void 0:n.map(function(e){var n=e.node;return{value:n.id,label:n.fullName}});return(0,a.tZ)(a.HY,{children:s&&(0,a.tZ)(o.Z,{label:"Group users",control:t,name:"userIds",options:s,lang:{availableHeader:"Available users",selectedHeader:"Selected users"}})})};n.Z=u},5309:function(e,n,t){"use strict";t.d(n,{Hq:function(){return i},IP:function(){return l},OW:function(){return c}});var r,o,a,u=t(71383),s=t(17283),i=(0,s.Ps)(r||(r=(0,u.Z)(["\n  fragment GroupFragment on Group {\n    createdAt\n    id\n    name\n    updatedAt\n    users {\n      totalCount\n      edges {\n        node {\n          id\n        }\n      }\n    }\n    image {\n      location\n      id\n      altText\n      properties\n      title\n    }\n    enrolledCourses {\n      totalCount\n      edges {\n        node {\n          id\n        }\n      }\n    }\n    assignedResources {\n      totalCount\n      edges {\n        node {\n          id\n        }\n      }\n    }\n    assignedCourses {\n      totalCount\n      edges {\n        node {\n          id\n        }\n      }\n    }\n    _deleted @client\n  }\n"]))),c=(0,s.Ps)(o||(o=(0,u.Z)(["\n  query GetGroup($id: ID!) {\n    group(id: $id) {\n      ...GroupFragment\n    }\n  }\n  ","\n"])),i),l=(0,s.Ps)(a||(a=(0,u.Z)(["\n  query GetGroups {\n    groups {\n      edges {\n        node {\n          ...GroupFragment\n        }\n      }\n    }\n  }\n  ","\n"])),i)},55103:function(e,n,t){"use strict";var r=t(22345),o=t(71641);n.Z=function(){var e=(0,o.a)(r.Pb),n=e.loading,t=e.error,a=e.data;return{courses:(a=void 0===a?{}:a).courses,loading:n,error:t}}},48707:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r,o=t(90116),a=t(59499),u=t(17674),s=t(5309),i=t(50319),c=t(71383),l=(0,t(17283).Ps)(r||(r=(0,c.Z)(["\n  mutation CreateGroup(\n    $name: String!,\n    $parentId: ID,\n    $assignedCourseIds: [ID!],\n    $enrolledCourseIds: [ID!],\n    $imageId: ID,\n    $userIds: [ID!]\n  ) {\n    createGroup(\n      input: {\n        name: $name,\n        parentId: $parentId,\n        assignedCourseIds: $assignedCourseIds,\n        enrolledCourseIds: $enrolledCourseIds,\n        imageId: $imageId,\n        userIds: $userIds\n      }\n    ) {\n      group {\n        ...GroupFragment\n      }\n    }\n  }\n  ","\n"])),s.Hq);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){(0,a.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var f=function(){var e=(0,i.D)(l,{update:function(e,n){var t=n.data.createGroup,r=e.readQuery({query:s.IP});e.writeQuery({query:s.IP,data:p(p({},r),{},{groups:p(p({},r.groups),{},{edges:[{node:t.group}].concat((0,o.Z)(r.groups.edges))})})})}}),n=(0,u.Z)(e,2),t=n[0];return n[1],{createGroup:function(e){t({variables:p({},e),optimisticResponse:{createGroup:{__typename:"CreateGroupPayload",group:p({__typename:"Group",id:Math.floor(1e4*Math.random())+"",_deleted:!1,image:null,users:[],enrolledCourses:[],assignedCourses:[],createdAt:0,updatedAt:0},e)}}}).catch(function(e){})}}}},24545:function(e,n,t){"use strict";var r=t(11163),o=t(67294),a=t(78773),u=t(94225),s=t(35944),i=function(e){var n=(0,r.useRouter)();(0,o.useEffect)(function(){(0,u.ac)((0,s.tZ)("div",{className:"space-x-2 flex items-center",children:e.map(function(e,t){return(0,s.tZ)(a.Z,{onClick:function(){"function"==typeof e[1]?e[1]():n.push(e[1])},children:e[0]},t)})}))},[])};n.Z=i},40350:function(e,n,t){"use strict";var r=t(67294),o=t(94225);n.Z=function(e){(0,r.useEffect)(function(){(0,o.jL)(e)},[e])}},3130:function(e,n,t){"use strict";var r=t(50051),o=t(71641);n.Z=function(){var e=(0,o.a)(r.fo),n=e.loading,t=e.error,a=e.data;return{users:(a=void 0===a?{}:a).users,loading:n,error:t,refetchUsers:e.refetch}}},8682:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var r=t(78773),o=t(48707),a=t(87536),u=t(97088),s=t(28867),i=t(11163),c=t(80135);t(67294);var l=t(35944),d=function(){var e=(0,a.cI)(),n=e.register,t=e.handleSubmit,d=e.control,p=e.formState.errors,f=(0,i.useRouter)(),g=(0,o.Z)().createGroup,b=function(e){g(e),f.push("/admin/users/groups")};return(0,l.BX)("form",{className:"h-full w-full max-w-md flex flex-col space-y-4",onSubmit:t(b),children:[(0,l.tZ)(u.Z,{label:"Group name",placeholder:"Group name",inputAttrs:n("name",{required:"Group name is required"})}),p.name&&(0,l.tZ)("small",{className:"text-danger text-red-500",children:p.name.message}),(0,l.tZ)(s.Z,{control:d}),(0,l.tZ)(c.Z,{control:d}),(0,l.tZ)(r.Z,{type:"submit",children:"Create group"})]})},p=t(40350),f=t(39316),g=t(24545),b=function(){return(0,l.BX)(l.HY,{children:[(0,l.tZ)("span",{className:"hidden lg:block",children:"Back to groups list"}),(0,l.tZ)("span",{className:"block lg:hidden",children:(0,l.tZ)(f.x,{width:"20"})})]})},m=function(){return(0,p.Z)({title:"Add new group"}),(0,g.Z)([[(0,l.tZ)(b,{}),"/admin/users/groups"]]),(0,l.tZ)(l.HY,{children:(0,l.tZ)(d,{})})};m.navState={topLevel:"users",secondary:"groups"};var v=m},93005:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users/groups/add",function(){return t(8682)}])},20516:function(e){e.exports={button:"Button_button__RRrLU",button_bestia:"Button_button_bestia__QRXEX",button__bg:"Button_button__bg__EuarU",button__span:"Button_button__span__Tcje3"}},23239:function(e){e.exports={DualInput:"DualListBoxInput_DualInput__PER2G"}},4730:function(e,n,t){"use strict";function r(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[3538,9774,2888,179],function(){return e(e.s=93005)}),_N_E=e.O()}]);