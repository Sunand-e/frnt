(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9144],{60819:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var r,c=n(40350),o=n(90116),u=n(59499),a=n(17674),s=n(71383),i=n(17283),l=n(22345),d=(0,i.Ps)(r||(r=(0,s.Z)(["\n  mutation CreateResource(\n    $title: String,\n    $contentType: String \n    $content: JSON,\n    $settings: JSON,\n    $imageId: ID,\n    $mediaItemId: ID,\n    $tags: [TagInput!],\n    $iconId: ID\n  ) {\n\n    createResource(\n      input: {\n        title: $title,\n        contentType: $contentType,\n        content: $content,\n        settings: $settings,\n        imageId: $imageId,\n        mediaItemId: $mediaItemId,\n        tags: $tags,\n        iconId: $iconId\n      }\n    ) {\n      resource {\n        ...ResourceFragment\n      }\n      message\n    }\n  }\n  ","\n"])),l.KF),p=n(50319),m=n(67294);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,u.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=function(){var e=(0,p.D)(d,{update:function(e,t){var n=t.data.createResource,r=e.readQuery({query:l.Yu});e.writeQuery({query:l.Yu,data:g(g({},r),{},{resources:g(g({},r.resources),{},{edges:[{node:n.resource}].concat((0,o.Z)(r.resources.edges))})})})}}),t=(0,a.Z)(e,2),n=t[0],r=t[1],c=(0,m.useState)(null),u=c[0],s=c[1];return(0,m.useEffect)(function(){r.data&&s(r.data.createResource.resource)},[r.data]),{resource:u,createResource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("values"),console.log(e),n({variables:g({},e),optimisticResponse:{createResource:{__typename:"CreateResourcePayload",resource:g(g({__typename:"ContentItem",id:"tmp-".concat(Math.floor(1e4*Math.random())),title:e.title||"",settings:{},createdAt:"",updatedAt:"",content:{},shared:!1,contentType:null,itemType:"resource",mediaItem:null,icon:null,prerequisites:null,_deleted:!1,users:{totalCount:0},audio:null,document:null},e),{},{tags:[],image:null}),message:""}},onCompleted:t}).catch(function(e){})}}},b=n(39316),O=n(24545),h=n(80663),I=n(35944),_=function(){return(0,I.BX)(I.HY,{children:[(0,I.tZ)("span",{className:"hidden lg:block",children:"Back to Resource Library"}),(0,I.tZ)("span",{className:"block lg:hidden",children:(0,I.tZ)(b.x,{width:"20"})})]})},v=function(){(0,O.Z)([[(0,I.tZ)(_,{}),"/admin/resources"]]);var e=y().createResource,t=function(t){e(t)};return(0,c.Z)({title:"New resource"}),(0,I.tZ)(I.HY,{children:(0,I.tZ)(h.Z,{onSubmit:t})})};v.navState={topLevel:"resources"};var $=v},42807:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/resources/create",function(){return n(60819)}])}},function(e){e.O(0,[9299,6107,5756,5213,2536,3434,8308,3459,9774,2888,179],function(){return e(e.s=42807)}),_N_E=e.O()}]);