(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8697],{5064:function(e,n,t){"use strict";t.d(n,{d:function(){return a}});var r=t(87462),o=t(67294),i=t(54142),a=o.forwardRef(function(e,n){return o.createElement(i.r,(0,r.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),o.createElement("path",{d:"M16.972 6.251a1.999 1.999 0 0 0-2.72.777l-3.713 6.682-2.125-2.125a2 2 0 1 0-2.828 2.828l4 4c.378.379.888.587 1.414.587l.277-.02a2 2 0 0 0 1.471-1.009l5-9a2 2 0 0 0-.776-2.72z"}))});a.displayName="Tick"},78773:function(e,n,t){"use strict";var r=t(20516),o=t.n(r),i=t(35944),a=function(e){var n=e.onClick,t=e.disabled,r=e.type,a=e.displayType,c=e.size,s=e.className,l=e.children,u="bg-main group-hover:bg-opacity-80 transition-colors duration-1000";return(void 0===a?"normal":a)==="alert"&&(u="bg-red-800 group-hover:bg-red-700 transition-colors duration-1000"),(0,i.BX)("button",{type:void 0===r?"button":r,disabled:void 0!==t&&t,className:"\n        ".concat(s,"\n        ").concat(o().button,"\n        ").concat(o().button_bestia,"\n        ").concat("sm"===c?"px-1":"px-8","\n\n        min-w-16 py-2 \n        whitespace-nowrap nowrap\n        border border-transparent rounded-md\n        text-sm\n        group\n        disabled bg-main text-white\n        focus:bg-opacity-50 focus:outline-none \n        active:bg-opacity-50 \n      "),onClick:n,children:[(0,i.tZ)("div",{className:"".concat(o().button__bg," ").concat(u)}),(0,i.tZ)("span",{className:o().button__span,children:l})]})};n.Z=a},57389:function(e,n,t){"use strict";var r=t(41664),o=t.n(r),i=t(20516),a=t.n(i),c=t(35944),s=function(e){var n,t=e.target,r=e.href,i=e.displayType,s=e.children,l=e.className,u=e.onClick;switch(void 0===i?"normal":i){case"cancel":n="bg-gray-200 group-hover:bg-gray-700 transition-colors duration-1000",a().button_grey;break;case"alert":n="bg-red-800 group-hover:bg-red-700 transition-colors duration-1000";break;default:n="bg-main group-hover:bg-opacity-80 transition-colors duration-1000",a().button}return(0,c.BX)(o(),{href:r,onClick:u,target:t,className:"\n      ".concat(l,"\n      ").concat(a().button,"\n      ").concat(a().button_bestia,"\n      min-w-16 py-2 px-8\n      whitespace-nowrap nowrap\n      border border-transparent rounded-md\n      text-sm\n      bg-main text-white\n      focus:bg-opacity-50 focus:outline-none \n      active:bg-opacity-50 \n    "),children:[(0,c.tZ)("div",{className:"".concat(a().button__bg," ").concat(n)}),(0,c.tZ)("span",{className:a().button__span,children:s})]})};n.Z=s},64202:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(90116),o=t(25440),i=t.n(o),a=t(35944);function c(e){var n=e.text,t=e.className;return(0,a.BX)("div",{className:"".concat(t," display flex-col text-center text-main-secondary mx-auto"),children:[n,(0,a.tZ)("div",{className:i().loadingCubeGrid,children:(0,r.Z)(Array(9)).map(function(e,n){return(0,a.tZ)("div",{className:"".concat(i().loadingCube," ").concat(i().loadingCube1," ").concat(i()["loadingCube".concat(n+1)]," bg-main-secondary")},n)})})]})}},76322:function(e,n,t){"use strict";t.d(n,{o:function(){return s}});var r,o,i=t(71383),a=t(68777),c=(0,a.F4)(r||(r=(0,i.Z)(["\n  50% {color: transparent;}\n"]))),s=a.ZP.span(o||(o=(0,i.Z)(["\n  animation: 1s "," infinite;\n  &:nth-child(1) {\n    animation-delay: 0ms;\n  }\n  &:nth-child(2) {\n    animation-delay: 250ms;\n  }\n  &:nth-child(3) {\n    animation-delay: 500ms;\n  }\n"])),c)},40350:function(e,n,t){"use strict";var r=t(67294),o=t(94225);n.Z=function(e){(0,r.useEffect)(function(){(0,o.jL)(e)},[e])}},40548:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r,o,i=t(59499),a=t(17674),c=t(67294),s=t(50319),l=t(71383),u=t(17283),d=(0,u.Ps)(r||(r=(0,l.Z)(["\n  fragment UserContentFragment on UserContentConnection {\n    edges {\n      userId\n      status\n      score\n      updatedAt\n      completed\n      properties\n      lastVisited\n      firstVisited\n      node {\n        id\n        itemType\n      }\n    }\n  }\n"]))),p=(0,u.Ps)(o||(o=(0,l.Z)(["\n  mutation UpdateUserContentStatus(\n    $userId: ID\n    $contentItemId: ID!\n    $status: String\n    $lastVisited: ISO8601DateTime\n    $firstVisited: ISO8601DateTime\n    $score: Int\n    $visits: Int\n    $completed: Boolean\n  ) {\n    updateUserContentStatus(input: {\n      contentItemId: $contentItemId, \n      completed: $completed,\n      firstVisited: $firstVisited,\n      lastVisited: $lastVisited,\n      score: $score,\n      status: $status,\n      userId: $userId,\n      visits: $visits\n    }) {\n      userContents {\n        ...UserContentFragment\n      }\n    }\n  }\n  ","\n"])),d),f=t(61458);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var g=function(){var e=(0,s.D)(p),n=(0,a.Z)(e,2),t=n[0];n[1];var r=(0,f.Z)().user;return{updateUserContentStatus:(0,c.useCallback)(function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],t({variables:b({},e),optimisticResponse:{updateUserContentStatus:{userContents:{edges:[b(b({userId:null==r?void 0:r.id,status:"in_progress",score:71,updatedAt:"2022-10-18T21:38:36Z",firstVisited:"2022-10-18T21:38:36Z",lastVisited:"2022-10-18T21:38:36Z",completed:null,properties:{},node:{id:e.contentItemId,itemType:"section",__typename:"ContentItem"}},e),{},{__typename:"UserContentEdge"})],__typename:"UserContentConnection"},__typename:"UserContentStatusUpdatePayload"}}}).then(function(e){console.log("response"),console.log(e)}).catch(function(e){})},[r])}}},31193:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return E}});var r=t(24249),o=t(94225),i=t(67294),a=t(78773),c=t(59499),s=t(13433),l=t(40350),u=t(85146),d=t(87442),p=t(28275),f=t(56982),m=t(55363),b=t(57389),g=t(87462),h=t(54142),v=i.forwardRef(function(e,n){return i.createElement(h.r,(0,g.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),i.createElement("path",{d:"m12 16 4-5h-3V4h-2v7H8z"}),i.createElement("path",{d:"M20 18H4v-7H2v7c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2v-7h-2v7z"}))});v.displayName="Download";var y=t(5064),_=i.forwardRef(function(e,n){return i.createElement(h.r,(0,g.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),i.createElement("g",{"data-name":"Layer 2"},i.createElement("g",{"data-name":"external-link"},i.createElement("path",{d:"M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"}),i.createElement("path",{d:"M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"}))))});_.displayName="ExternalLinkOutline";var Z=t(40548),w=t(61458),C=t(39316),O=t(64202),x=t(76322),j=t(35944);function N(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach(function(n){(0,c.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var P=function(e){var n=e.id,t=(0,r.t)(),c=t.query.pid,g=(0,w.Z)(),h=g.loading,N=g.error,P=g.resources,k=null==P?void 0:P.edges.find(function(e){return e.node.id===n}),E=null==k?void 0:k.node,I=(0,s.l)(o.Nt);(0,l.Z)({title:null!=E&&E.title?"Resource Library: ".concat(E.title):"Resource Library"}),(0,i.useEffect)(function(){(0,o.Nt)(S(S({},I),{},{id:n}))},[n]);var B=(0,i.useCallback)(function(){var e;return{__html:null==E?void 0:null===(e=E.content)||void 0===e?void 0:e.description}},[E]),L=(0,i.useMemo)(function(){var e,n;switch(null==E?void 0:E.contentType){case"document":return(0,j.tZ)(u.Z,{pdfPreview:!0,file:E.document});case"video":return(0,j.tZ)(d.Z,{url:null===(e=E.content)||void 0===e?void 0:e.url});case"image":return(0,j.tZ)(p.Z,{image:E.image});case"audio":return(0,j.tZ)(f.Z,{url:E.audio.location});case"link":return(0,j.tZ)(m.Z,{url:null===(n=E.content)||void 0===n?void 0:n.url});default:return(0,j.tZ)(j.HY,{})}},[E]),D=(0,i.useMemo)(function(){var e;switch(null==E?void 0:E.contentType){case"document":case"audio":return(0,j.tZ)(a.Z,{className:"mb-8",onClick:function(){return t.push("/resources")},children:(0,j.BX)("span",{className:"flex space-x-2 items-center",children:[(0,j.tZ)(v,{className:"h-7"}),(0,j.BX)("span",{children:["Download ",null==E?void 0:E.contentType," file"]})]})});case"link":return(0,j.tZ)(b.Z,{target:"_blank",className:"mb-8",href:null==E?void 0:null===(e=E.content)||void 0===e?void 0:e.url,children:(0,j.BX)("span",{className:"flex space-x-2 items-center",children:[(0,j.tZ)(_,{className:"h-7"}),(0,j.tZ)("span",{children:"Visit link"})]})});default:return(0,j.tZ)(j.HY,{})}},[E]),V=(0,Z.Z)().updateUserContentStatus,T=(0,i.useCallback)(function(){V({contentItemId:n,score:100,status:"completed"},E.id),t.push({pathname:"/pathway",query:{pid:c}})},[E]);return(0,j.tZ)("div",{className:"w-full flex flex-col",children:E?(0,j.BX)("div",{className:"w-full max-w-screen-lg self-center flex flex-col",children:[(0,j.tZ)("h1",{className:"mt-3 mb-8",children:E.title}),(0,j.tZ)("div",{className:"mt-3 mb-8",dangerouslySetInnerHTML:B()}),L,(0,j.BX)("div",{className:"mt-10 flex flex-col md:flex-row space-x-4 self-center",children:[D,c?(0,j.BX)(j.HY,{children:[(0,j.tZ)(b.Z,{href:{pathname:"/pathway",query:{pid:c}},children:(0,j.BX)("span",{className:"flex items-center space-x-2",children:[(0,j.tZ)("span",{children:"Back to pathway"}),(0,j.tZ)(C.x,{className:"h-8 p-1"})]})}),(null==E?void 0:E.status)!=="completed"&&(0,j.tZ)(a.Z,{onClick:T,children:(0,j.BX)("span",{className:"flex items-center space-x-2",children:[(0,j.tZ)("span",{children:"Mark Complete"}),(0,j.tZ)(y.d,{className:"h-8"})]})})]}):(0,j.tZ)(a.Z,{className:"mb-8",onClick:function(){return t.push("/resources")},children:(0,j.BX)("span",{className:"flex items-center space-x-2",children:[(0,j.tZ)("span",{children:"Back to Resource Library"}),(0,j.tZ)(C.x,{className:"h-7"})]})})]})]}):(0,j.BX)(j.HY,{children:[h&&(0,j.tZ)(O.Z,{text:(0,j.BX)(j.HY,{children:["Loading resources",(0,j.tZ)(x.o,{children:"."}),(0,j.tZ)(x.o,{children:"."}),(0,j.tZ)(x.o,{children:"."})]})}),N&&(0,j.tZ)("p",{children:"Unable to fetch resourses."})]})})},k=function(){var e=(0,r.t)(),n=e.query,t=n.id,c=n.showEdit,s=void 0!==c&&c,l=function(){e.push({pathname:"/admin/resources/edit",query:{id:t}})};return(0,i.useEffect)(function(){(0,o.ac)((0,j.tZ)(j.HY,{children:s&&(0,j.tZ)(a.Z,{onClick:l,children:"Edit Item"})}))},[s]),(0,j.tZ)(j.HY,{children:(0,j.tZ)(P,{id:t})})};k.navState={topLevel:"library",secondary:"overview"};var E=k},24249:function(e,n,t){"use strict";t.d(n,{t:function(){return d}});var r=t(59499),o=t(17674),i=t(83618);t(67294);var a=t(11163);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var u=function(e){var n,t=e.split("?"),r=(0,i.Z)(t).slice(1).join("?"),a={},c=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,n)}}(e))){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(c)throw i}}}}(new URLSearchParams(r).entries());try{for(c.s();!(n=c.n()).done;){var s=(0,o.Z)(n.value,2),u=s[0],d=s[1];a[u]=d}}catch(p){c.e(p)}finally{c.f()}return a},d=function(){var e=(0,a.useRouter)();return e.query=s(s({},u(e.asPath)),e.query),e}},18084:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/resource",function(){return t(31193)}])},20516:function(e){e.exports={button:"Button_button__RRrLU",button_bestia:"Button_button_bestia__QRXEX",button__bg:"Button_button__bg__EuarU",button__span:"Button_button__span__Tcje3"}},25440:function(e){e.exports={loadingCubeGrid:"LoadingSpinner_loadingCubeGrid__9Okru",loadingCube:"LoadingSpinner_loadingCube__WnqWw",loadingCubeGridScaleDelay:"LoadingSpinner_loadingCubeGridScaleDelay__S4rcT",loadingCube1:"LoadingSpinner_loadingCube1__9Xdf3",loadingCube2:"LoadingSpinner_loadingCube2__9hDGq",loadingCube3:"LoadingSpinner_loadingCube3__pmAJ5",loadingCube4:"LoadingSpinner_loadingCube4__QGZuW",loadingCube5:"LoadingSpinner_loadingCube5__vJpHG",loadingCube6:"LoadingSpinner_loadingCube6__3tWSf",loadingCube7:"LoadingSpinner_loadingCube7__PBJGj",loadingCube8:"LoadingSpinner_loadingCube8__mJD7v",loadingCube9:"LoadingSpinner_loadingCube9__oiwQt"}},83618:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(14666),o=t(28811),i=t(2937),a=t(14882);function c(e){return(0,r.Z)(e)||(0,o.Z)(e)||(0,i.Z)(e)||(0,a.Z)()}}},function(e){e.O(0,[5213,2536,8308,9774,2888,179],function(){return e(e.s=18084)}),_N_E=e.O()}]);